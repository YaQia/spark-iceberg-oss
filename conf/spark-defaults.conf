# Spark Configuration for Iceberg and Aliyun OSS

# Iceberg Catalog Configuration - JDBC Catalog
spark.sql.catalog.iceberg_catalog=org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.iceberg_catalog.type=jdbc
spark.sql.catalog.iceberg_catalog.warehouse=oss://your-bucket/warehouse
spark.sql.catalog.iceberg_catalog.io-impl=org.apache.iceberg.hadoop.HadoopFileIO
spark.sql.catalog.iceberg_catalog.uri=jdbc:postgresql://postgres:5432/iceberg_catalog
spark.sql.catalog.iceberg_catalog.jdbc.user=iceberg_user
spark.sql.catalog.iceberg_catalog.jdbc.password=iceberg_password
spark.sql.catalog.iceberg_catalog.jdbc.driver=org.postgresql.Driver

# OSS Configuration
# Replace these with your actual Aliyun OSS credentials
spark.hadoop.fs.oss.endpoint=oss-cn-hangzhou.aliyuncs.com
spark.hadoop.fs.oss.accessKeyId=YOUR_ACCESS_KEY_ID
spark.hadoop.fs.oss.accessKeySecret=YOUR_ACCESS_KEY_SECRET
spark.hadoop.fs.oss.impl=org.apache.hadoop.fs.aliyun.oss.AliyunOSSFileSystem

# Iceberg Extensions
spark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# Default Catalog
spark.sql.defaultCatalog=iceberg_catalog

# Memory and Performance Tuning
spark.driver.memory=2g
spark.executor.memory=2g
spark.driver.maxResultSize=1g

# Event Log Configuration (optional)
# spark.eventLog.enabled=true
# spark.eventLog.dir=oss://your-bucket/spark-logs

# History Server Configuration (optional)
# spark.history.fs.logDirectory=oss://your-bucket/spark-logs
